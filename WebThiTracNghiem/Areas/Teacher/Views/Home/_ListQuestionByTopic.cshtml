@model IEnumerable<CauHoi>

@if (Model == null || !Model.Any())
{
	<h2>Không có câu hỏi thuộc chủ đề này</h2>
}
else
{
	var chuDeId = ViewBag.ChuDeId;
	<div class="pagination">
		<button class="btn-page btn-qb" @(ViewBag.CurrentPage == 1 ? "disabled" : "") href="/teacher/home/LoadQuestionByTopic?ChuDeId=@chuDeId&page=1">
			<i class="fas fa-chevron-left"></i>
		</button>

		@for (int i = 1; i <= ViewBag.TotalPages; i++)
		{
			<button class="btn-page btn-qb @(ViewBag.CurrentPage == i ? "active" : "")" href="/teacher/home/LoadQuestionByTopic?ChuDeId=@chuDeId&page=@i">@i</button>
		}

		<button class="btn-page btn-qb" @(ViewBag.CurrentPage == ViewBag.TotalPages ? "disabled" : "") href="/teacher/home/LoadQuestionByTopic?ChuDeId=@chuDeId&page=@ViewBag.TotalPages">
			<i class="fas fa-chevron-right"></i>
		</button>
	</div>
	@foreach (var ch in Model)
	{
		<div class="question-card">
			<div class="question-header">
				<span class="question-type">@(ch.Loai == "TracNghiem" ? "Trắc nghiệm" : "Nhiều đáp án")</span>
				<div class="question-actions">
					<a asp-action="Edit" asp-route-id="@ch.Id" class="btn-icon"><i class="fas fa-edit"></i></a>
					<a asp-action="Delete" asp-route-id="@ch.Id" class="btn-icon danger"><i class="fas fa-trash"></i></a>
				</div>
			</div>
			<div class="question-content">
				<p class="question-text">@ch.NoiDung</p>
				<div class="answer-options">
				@foreach (var da in ch.DapAnList)
				{
					<div class="answer-option @(da.DungSai ? "correct" : "")">
						<span class="option-label">@da.Id</span>
						<span class="option-text">@da.NoiDung</span>
					</div>
				}
				</div>
			</div>
		</div>
	}
		<div class="pagination">
			<button class="btn-page btn-qb" @(ViewBag.CurrentPage == 1 ? "disabled" : "") href="/teacher/home/LoadQuestionByTopic?ChuDeId=@chuDeId&page=1">
				<i class="fas fa-chevron-left"></i>
			</button>

			@for (int i = 1; i <= ViewBag.TotalPages; i++)
			{
				<button class="btn-page btn-qb @(ViewBag.CurrentPage == i ? "active" : "")" href="/teacher/home/LoadQuestionByTopic?ChuDeId=@chuDeId&page=@i">@i</button>
			}

			<button class="btn-page btn-qb" @(ViewBag.CurrentPage == ViewBag.TotalPages ? "disabled" : "") href="/teacher/home/LoadQuestionByTopic?ChuDeId=@chuDeId&page=@ViewBag.TotalPages">
				<i class="fas fa-chevron-right"></i>
			</button>
		</div>
}